package com.example.gagym.gym.gymdetail;

import org.springframework.amqp.rabbit.annotation.RabbitListener;
import org.springframework.stereotype.Service;

@Service
public class GymDetailService {

	GymDetailRepository repo;

	public GymDetailService(GymDetailRepository repo) {
		this.repo = repo;
	}

	@RabbitListener(queues = "service.gym.create1")

	public void getGymDetail(GymDetail gymDetail) {
		System.out.println(gymDetail);
		saveGymDetail(gymDetail);
	}

	public GymDetail saveGymDetail(GymDetail gymDetail) {
		GymDetail saveGymDetail = GymDetail
				.builder()
				.gymName(GymDetail.getGymName())
				.gymCoNum(GymDetail.getGymCoNum())
				.gymLocateSi(GymDetail.getGymLocateSi())
				.gymLocateGunGu(GymDetail.getGymLocateGunGu())
				.gymAddress(GymDetail.getGymAddress())
				.gymPhoneNum(GymDetail.getGymPhoneNum())
				.gymTime(GymDetail.getGymTime())
				.gymService(GymDetail.getGymService())
				.gymPhoto(GymDetail.getGymPhoto())
				.fileName(GymDetail.getFileName())
				.fileType(GymDetail.getFileType())
				.gym1DayPrice(GymDetail.getGym1DayPrice())
				.gym3DayPrice(GymDetail.getGym3DayPrice())
				.gym7DayPrice(GymDetail.getGym7DayPrice())
				.gym3MonthPrice(GymDetail.getGymMonthPrice())
				.gym3MonthPrice(GymDetail.getGym3MonthPrice())
				.gym6MonthPrice(GymDetail.getGym6MonthPrice())
				.gymYearPrice(GymDetail.getGymYearPrice())
				//1117추가
//				.gymCode(GymDetail.getGymCode())
//				.trainerName(GymDetail.getTrainerName())
//				.trainerIntro(GymDetail.getTrainerIntro())
//				.trainerPhotoUrl(GymDetail.getTrainerPhotoUrl())
//				.pt1TimePrice(GymDetail.getPt1TimePrice())
//				.pt10TimePrice(GymDetail.getPt10TimePrice())
//				.pt30TimePrice(GymDetail.getPt30TimePrice())
//				.yoga1TimePrice(GymDetail.getYoga1TimePrice())
//				.yoga10TimePrice(GymDetail.getYoga10TimePrice())
//				.yoga30TimePrice(GymDetail.getYoga30TimePrice())
//				.pilates1TimePrice(GymDetail.getPilates1TimePrice())
//				.pilates10TimePrice(GymDetail.getPilates10TimePrice())
//				.pilates30TimePrice(GymDetail.getPilates30TimePrice())
				.build();	
		repo.save(saveGymDetail);

		return saveGymDetail;
	}
}